/*! For license information please see example.min.js.LICENSE.txt */
(()=>{var e={266:(e,t,i)=>{var s="undefined"!=typeof JSON?JSON:i(418);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var i=t.space||"";"number"==typeof i&&(i=Array(i+1).join(" "));var a,l="boolean"==typeof t.cycles&&t.cycles,o=t.replacer||function(e,t){return t},u=t.cmp&&(a=t.cmp,function(e){return function(t,i){var s={key:t,value:e[t]},n={key:i,value:e[i]};return a(s,n)}}),c=[];return function e(t,a,d,h){var f=i?"\n"+new Array(h+1).join(i):"",p=i?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=o.call(t,a,d))){if("object"!=typeof d||null===d)return s.stringify(d);if(n(d)){for(var g=[],v=0;v<d.length;v++){var _=e(d,v,d[v],h+1)||s.stringify(null);g.push(f+i+_)}return"["+g.join(",")+f+"]"}if(-1!==c.indexOf(d)){if(l)return s.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}c.push(d);var m=r(d).sort(u&&u(d));for(g=[],v=0;v<m.length;v++){var y=e(d,a=m[v],d[a],h+1);if(y){var b=s.stringify(a)+p+y;g.push(f+i+b)}}return c.splice(c.indexOf(d),1),"{"+g.join(",")+f+"}"}}({"":e},"",e,0)};var n=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},r=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},i=[];for(var s in e)t.call(e,s)&&i.push(s);return i}},418:(e,t,i)=>{t.parse=i(396),t.stringify=i(177)},396:e=>{var t,i,s,n,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},a=function(e){throw{name:"SyntaxError",message:e,at:t,text:s}},l=function(e){return e&&e!==i&&a("Expected '"+e+"' instead of '"+i+"'"),i=s.charAt(t),t+=1,i},o=function(){var e,t="";for("-"===i&&(t="-",l("-"));i>="0"&&i<="9";)t+=i,l();if("."===i)for(t+=".";l()&&i>="0"&&i<="9";)t+=i;if("e"===i||"E"===i)for(t+=i,l(),"-"!==i&&"+"!==i||(t+=i,l());i>="0"&&i<="9";)t+=i,l();if(e=+t,isFinite(e))return e;a("Bad number")},u=function(){var e,t,s,n="";if('"'===i)for(;l();){if('"'===i)return l(),n;if("\\"===i)if(l(),"u"===i){for(s=0,t=0;t<4&&(e=parseInt(l(),16),isFinite(e));t+=1)s=16*s+e;n+=String.fromCharCode(s)}else{if("string"!=typeof r[i])break;n+=r[i]}else n+=i}a("Bad string")},c=function(){for(;i&&i<=" ";)l()};n=function(){switch(c(),i){case"{":return function(){var e,t={};if("{"===i){if(l("{"),c(),"}"===i)return l("}"),t;for(;i;){if(e=u(),c(),l(":"),Object.hasOwnProperty.call(t,e)&&a('Duplicate key "'+e+'"'),t[e]=n(),c(),"}"===i)return l("}"),t;l(","),c()}}a("Bad object")}();case"[":return function(){var e=[];if("["===i){if(l("["),c(),"]"===i)return l("]"),e;for(;i;){if(e.push(n()),c(),"]"===i)return l("]"),e;l(","),c()}}a("Bad array")}();case'"':return u();case"-":return o();default:return i>="0"&&i<="9"?o():function(){switch(i){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null}a("Unexpected '"+i+"'")}()}},e.exports=function(e,r){var l;return s=e,t=0,i=" ",l=n(),c(),i&&a("Syntax error"),"function"==typeof r?function e(t,i){var s,n,a=t[i];if(a&&"object"==typeof a)for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(void 0!==(n=e(a,s))?a[s]=n:delete a[s]);return r.call(t,i,a)}({"":l},""):l}},177:e=>{var t,i,s,n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(e){return n.lastIndex=0,n.test(e)?'"'+e.replace(n,(function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function l(e,n){var r,o,u,c,d,h=t,f=n[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(e)),"function"==typeof s&&(f=s.call(n,e,f)),typeof f){case"string":return a(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(t+=i,d=[],"[object Array]"===Object.prototype.toString.apply(f)){for(c=f.length,r=0;r<c;r+=1)d[r]=l(r,f)||"null";return u=0===d.length?"[]":t?"[\n"+t+d.join(",\n"+t)+"\n"+h+"]":"["+d.join(",")+"]",t=h,u}if(s&&"object"==typeof s)for(c=s.length,r=0;r<c;r+=1)"string"==typeof(o=s[r])&&(u=l(o,f))&&d.push(a(o)+(t?": ":":")+u);else for(o in f)Object.prototype.hasOwnProperty.call(f,o)&&(u=l(o,f))&&d.push(a(o)+(t?": ":":")+u);return u=0===d.length?"{}":t?"{\n"+t+d.join(",\n"+t)+"\n"+h+"}":"{"+d.join(",")+"}",t=h,u}}e.exports=function(e,n,r){var a;if(t="",i="","number"==typeof r)for(a=0;a<r;a+=1)i+=" ";else"string"==typeof r&&(i=r);if(s=n,n&&"function"!=typeof n&&("object"!=typeof n||"number"!=typeof n.length))throw new Error("JSON.stringify");return l("",{"":e})}},449:(e,t,i)=>{"use strict";i.r(t),i.d(t,{repeat:()=>d});var s=i(16);const n=(e,t)=>{const i=e.startNode.parentNode,n=void 0===t?e.endNode:t.startNode,r=i.insertBefore((0,s.createMarker)(),n);i.insertBefore((0,s.createMarker)(),n);const a=new s.NodePart(e.options);return a.insertAfterNode(r),a},r=(e,t)=>(e.setValue(t),e.commit(),e),a=(e,t,i)=>{const n=e.startNode.parentNode,r=i?i.startNode:e.endNode,a=t.endNode.nextSibling;a!==r&&(0,s.reparentNodes)(n,t.startNode,a,r)},l=e=>{(0,s.removeNodes)(e.startNode.parentNode,e.startNode,e.endNode.nextSibling)},o=(e,t,i)=>{const s=new Map;for(let n=t;n<=i;n++)s.set(e[n],n);return s},u=new WeakMap,c=new WeakMap,d=(0,s.directive)(((e,t,i)=>{let d;return void 0===i?i=t:void 0!==t&&(d=t),t=>{if(!(t instanceof s.NodePart))throw new Error("repeat can only be used in text bindings");const h=u.get(t)||[],f=c.get(t)||[],p=[],g=[],v=[];let _,m,y=0;for(const t of e)v[y]=d?d(t,y):y,g[y]=i(t,y),y++;let b=0,x=h.length-1,E=0,w=g.length-1;for(;b<=x&&E<=w;)if(null===h[b])b++;else if(null===h[x])x--;else if(f[b]===v[E])p[E]=r(h[b],g[E]),b++,E++;else if(f[x]===v[w])p[w]=r(h[x],g[w]),x--,w--;else if(f[b]===v[w])p[w]=r(h[b],g[w]),a(t,h[b],p[w+1]),b++,w--;else if(f[x]===v[E])p[E]=r(h[x],g[E]),a(t,h[x],h[b]),x--,E++;else if(void 0===_&&(_=o(v,E,w),m=o(f,b,x)),_.has(f[b]))if(_.has(f[x])){const e=m.get(v[E]),i=void 0!==e?h[e]:null;if(null===i){const e=n(t,h[b]);r(e,g[E]),p[E]=e}else p[E]=r(i,g[E]),a(t,i,h[b]),h[e]=null;E++}else l(h[x]),x--;else l(h[b]),b++;for(;E<=w;){const e=n(t,p[w+1]);r(e,g[E]),p[E++]=e}for(;b<=x;){const e=h[b++];null!==e&&l(e)}u.set(t,p),c.set(t,v)}}))},16:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AttributeCommitter:()=>V,AttributePart:()=>N,BooleanAttributePart:()=>D,DefaultTemplateProcessor:()=>R,EventPart:()=>A,NodePart:()=>$,PropertyCommitter:()=>S,PropertyPart:()=>C,SVGTemplateResult:()=>O,Template:()=>g,TemplateInstance:()=>b,TemplateResult:()=>w,createMarker:()=>m,defaultTemplateProcessor:()=>P,directive:()=>n,html:()=>z,isDirective:()=>r,isIterable:()=>T,isPrimitive:()=>j,isTemplatePartActive:()=>_,noChange:()=>u,nothing:()=>c,parts:()=>I,removeNodes:()=>o,render:()=>U,reparentNodes:()=>l,svg:()=>B,templateCaches:()=>L,templateFactory:()=>k});const s=new WeakMap,n=e=>(...t)=>{const i=e(...t);return s.set(i,!0),i},r=e=>"function"==typeof e&&s.has(e),a="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,l=(e,t,i=null,s=null)=>{for(;t!==i;){const i=t.nextSibling;e.insertBefore(t,s),t=i}},o=(e,t,i=null)=>{for(;t!==i;){const i=t.nextSibling;e.removeChild(t),t=i}},u={},c={},d=`{{lit-${String(Math.random()).slice(2)}}}`,h=`\x3c!--${d}--\x3e`,f=new RegExp(`${d}|${h}`),p="$lit$";class g{constructor(e,t){this.parts=[],this.element=t;const i=[],s=[],n=document.createTreeWalker(t.content,133,null,!1);let r=0,a=-1,l=0;const{strings:o,values:{length:u}}=e;for(;l<u;){const e=n.nextNode();if(null!==e){if(a++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:i}=t;let s=0;for(let e=0;e<i;e++)v(t[e].name,p)&&s++;for(;s-- >0;){const t=o[l],i=y.exec(t)[2],s=i.toLowerCase()+p,n=e.getAttribute(s);e.removeAttribute(s);const r=n.split(f);this.parts.push({type:"attribute",index:a,name:i,strings:r}),l+=r.length-1}}"TEMPLATE"===e.tagName&&(s.push(e),n.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(d)>=0){const s=e.parentNode,n=t.split(f),r=n.length-1;for(let t=0;t<r;t++){let i,r=n[t];if(""===r)i=m();else{const e=y.exec(r);null!==e&&v(e[2],p)&&(r=r.slice(0,e.index)+e[1]+e[2].slice(0,-p.length)+e[3]),i=document.createTextNode(r)}s.insertBefore(i,e),this.parts.push({type:"node",index:++a})}""===n[r]?(s.insertBefore(m(),e),i.push(e)):e.data=n[r],l+=r}}else if(8===e.nodeType)if(e.data===d){const t=e.parentNode;null!==e.previousSibling&&a!==r||(a++,t.insertBefore(m(),e)),r=a,this.parts.push({type:"node",index:a}),null===e.nextSibling?e.data="":(i.push(e),a--),l++}else{let t=-1;for(;-1!==(t=e.data.indexOf(d,t+1));)this.parts.push({type:"node",index:-1}),l++}}else n.currentNode=s.pop()}for(const e of i)e.parentNode.removeChild(e)}}const v=(e,t)=>{const i=e.length-t.length;return i>=0&&e.slice(i)===t},_=e=>-1!==e.index,m=()=>document.createComment(""),y=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class b{constructor(e,t,i){this.__parts=[],this.template=e,this.processor=t,this.options=i}update(e){let t=0;for(const i of this.__parts)void 0!==i&&i.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],i=this.template.parts,s=document.createTreeWalker(e,133,null,!1);let n,r=0,l=0,o=s.nextNode();for(;r<i.length;)if(n=i[r],_(n)){for(;l<n.index;)l++,"TEMPLATE"===o.nodeName&&(t.push(o),s.currentNode=o.content),null===(o=s.nextNode())&&(s.currentNode=t.pop(),o=s.nextNode());if("node"===n.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(o.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(o,n.name,n.strings,this.options));r++}else this.__parts.push(void 0),r++;return a&&(document.adoptNode(e),customElements.upgrade(e)),e}}const x=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),E=` ${d} `;class w{constructor(e,t,i,s){this.strings=e,this.values=t,this.type=i,this.processor=s}getHTML(){const e=this.strings.length-1;let t="",i=!1;for(let s=0;s<e;s++){const e=this.strings[s],n=e.lastIndexOf("\x3c!--");i=(n>-1||i)&&-1===e.indexOf("--\x3e",n+1);const r=y.exec(e);t+=null===r?e+(i?E:h):e.substr(0,r.index)+r[1]+r[2]+p+r[3]+d}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==x&&(t=x.createHTML(t)),e.innerHTML=t,e}}class O extends w{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,i=t.firstChild;return t.removeChild(i),l(t,i.firstChild),e}}const j=e=>null===e||!("object"==typeof e||"function"==typeof e),T=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class V{constructor(e,t,i){this.dirty=!0,this.element=e,this.name=t,this.strings=i,this.parts=[];for(let e=0;e<i.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new N(this)}_getValue(){const e=this.strings,t=e.length-1,i=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=i[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!T(e))return e}let s="";for(let n=0;n<t;n++){s+=e[n];const t=i[n];if(void 0!==t){const e=t.value;if(j(e)||!T(e))s+="string"==typeof e?e:String(e);else for(const t of e)s+="string"==typeof t?t:String(t)}}return s+=e[t],s}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class N{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===u||j(e)&&e===this.value||(this.value=e,r(e)||(this.committer.dirty=!0))}commit(){for(;r(this.value);){const e=this.value;this.value=u,e(this)}this.value!==u&&this.committer.commit()}}class ${constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(m()),this.endNode=e.appendChild(m())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=m()),e.__insert(this.endNode=m())}insertAfterPart(e){e.__insert(this.startNode=m()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;r(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=u,e(this)}const e=this.__pendingValue;e!==u&&(j(e)?e!==this.value&&this.__commitText(e):e instanceof w?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):T(e)?this.__commitIterable(e):e===c?(this.value=c,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,i="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=i:this.__commitNode(document.createTextNode(i)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof b&&this.value.template===t)this.value.update(e.values);else{const i=new b(t,e.processor,this.options),s=i._clone();i.update(e.values),this.__commitNode(s),this.value=i}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let i,s=0;for(const n of e)i=t[s],void 0===i&&(i=new $(this.options),t.push(i),0===s?i.appendIntoPart(this):i.insertAfterPart(t[s-1])),i.setValue(n),i.commit(),s++;s<t.length&&(t.length=s,this.clear(i&&i.endNode))}clear(e=this.startNode){o(this.startNode.parentNode,e.nextSibling,this.endNode)}}class D{constructor(e,t,i){if(this.value=void 0,this.__pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=i}setValue(e){this.__pendingValue=e}commit(){for(;r(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=u,e(this)}if(this.__pendingValue===u)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=u}}class S extends V{constructor(e,t,i){super(e,t,i),this.single=2===i.length&&""===i[0]&&""===i[1]}_createPart(){return new C(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class C extends N{}let F=!1;(()=>{try{const e={get capture(){return F=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})();class A{constructor(e,t,i){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=i,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;r(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=u,e(this)}if(this.__pendingValue===u)return;const e=this.__pendingValue,t=this.value,i=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),s=null!=e&&(null==t||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),s&&(this.__options=M(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=u}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const M=e=>e&&(F?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);class R{handleAttributeExpressions(e,t,i,s){const n=t[0];return"."===n?new S(e,t.slice(1),i).parts:"@"===n?[new A(e,t.slice(1),s.eventContext)]:"?"===n?[new D(e,t.slice(1),i)]:new V(e,t,i).parts}handleTextExpression(e){return new $(e)}}const P=new R;function k(e){let t=L.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},L.set(e.type,t));let i=t.stringsArray.get(e.strings);if(void 0!==i)return i;const s=e.strings.join(d);return i=t.keyString.get(s),void 0===i&&(i=new g(e,e.getTemplateElement()),t.keyString.set(s,i)),t.stringsArray.set(e.strings,i),i}const L=new Map,I=new WeakMap,U=(e,t,i)=>{let s=I.get(t);void 0===s&&(o(t,t.firstChild),I.set(t,s=new $(Object.assign({templateFactory:k},i))),s.appendInto(t)),s.setValue(e),s.commit()};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const z=(e,...t)=>new w(e,t,"html",P),B=(e,...t)=>new O(e,t,"svg",P)},378:(e,t,i)=>{e=i.nmd(e);var s="__lodash_hash_undefined__",n=9007199254740991,r="[object Arguments]",a="[object Function]",l="[object Object]",o=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c[a]=c["[object Map]"]=c["[object Number]"]=c[l]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1;var d="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,h="object"==typeof self&&self&&self.Object===Object&&self,f=d||h||Function("return this")(),p=t&&!t.nodeType&&t,g=p&&e&&!e.nodeType&&e,v=g&&g.exports===p,_=v&&d.process,m=function(){try{return g&&g.require&&g.require("util").types||_&&_.binding&&_.binding("util")}catch(e){}}(),y=m&&m.isTypedArray;function b(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var x,E,w,O=Array.prototype,j=Function.prototype,T=Object.prototype,V=f["__core-js_shared__"],N=j.toString,$=T.hasOwnProperty,D=(x=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",S=T.toString,C=N.call(Object),F=RegExp("^"+N.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=v?f.Buffer:void 0,M=f.Symbol,R=f.Uint8Array,P=(A&&A.allocUnsafe,E=Object.getPrototypeOf,w=Object,function(e){return E(w(e))}),k=Object.create,L=T.propertyIsEnumerable,I=O.splice,U=M?M.toStringTag:void 0,z=function(){try{var e=le(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),B=A?A.isBuffer:void 0,K=Math.max,H=Date.now,W=le(f,"Map"),J=le(Object,"create"),Z=function(){function e(){}return function(t){if(!ye(t))return{};if(k)return k(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function q(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}function Y(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}function G(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}function Q(e){var t=this.__data__=new Y(e);this.size=t.size}function X(e,t,i){(void 0!==i&&!he(e[t],i)||void 0===i&&!(t in e))&&ie(e,t,i)}function ee(e,t,i){var s=e[t];$.call(e,t)&&he(s,i)&&(void 0!==i||t in e)||ie(e,t,i)}function te(e,t){for(var i=e.length;i--;)if(he(e[i][0],t))return i;return-1}function ie(e,t,i){"__proto__"==t&&z?z(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}q.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},q.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},q.prototype.get=function(e){var t=this.__data__;if(J){var i=t[e];return i===s?void 0:i}return $.call(t,e)?t[e]:void 0},q.prototype.has=function(e){var t=this.__data__;return J?void 0!==t[e]:$.call(t,e)},q.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=J&&void 0===t?s:t,this},Y.prototype.clear=function(){this.__data__=[],this.size=0},Y.prototype.delete=function(e){var t=this.__data__,i=te(t,e);return!(i<0||(i==t.length-1?t.pop():I.call(t,i,1),--this.size,0))},Y.prototype.get=function(e){var t=this.__data__,i=te(t,e);return i<0?void 0:t[i][1]},Y.prototype.has=function(e){return te(this.__data__,e)>-1},Y.prototype.set=function(e,t){var i=this.__data__,s=te(i,e);return s<0?(++this.size,i.push([e,t])):i[s][1]=t,this},G.prototype.clear=function(){this.size=0,this.__data__={hash:new q,map:new(W||Y),string:new q}},G.prototype.delete=function(e){var t=ae(this,e).delete(e);return this.size-=t?1:0,t},G.prototype.get=function(e){return ae(this,e).get(e)},G.prototype.has=function(e){return ae(this,e).has(e)},G.prototype.set=function(e,t){var i=ae(this,e),s=i.size;return i.set(e,t),this.size+=i.size==s?0:1,this},Q.prototype.clear=function(){this.__data__=new Y,this.size=0},Q.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},Q.prototype.get=function(e){return this.__data__.get(e)},Q.prototype.has=function(e){return this.__data__.has(e)},Q.prototype.set=function(e,t){var i=this.__data__;if(i instanceof Y){var s=i.__data__;if(!W||s.length<199)return s.push([e,t]),this.size=++i.size,this;i=this.__data__=new G(s)}return i.set(e,t),this.size=i.size,this};function se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":U&&U in Object(e)?function(e){var t=$.call(e,U),i=e[U];try{e[U]=void 0;var s=!0}catch(e){}var n=S.call(e);return s&&(t?e[U]=i:delete e[U]),n}(e):function(e){return S.call(e)}(e)}function ne(e){return be(e)&&se(e)==r}function re(e,t,i,s,n){e!==t&&function(e,t,i){for(var s=-1,n=Object(e),r=i(e),a=r.length;a--;){var l=r[++s];if(!1===t(n[l],l,n))break}}(t,(function(r,a){if(n||(n=new Q),ye(r))!function(e,t,i,s,n,r,a){var o=ce(e,i),u=ce(t,i),c=a.get(u);if(c)X(e,i,c);else{var d,h,f,p,g,v=r?r(o,u,i+"",e,t,a):void 0,_=void 0===v;if(_){var m=pe(u),y=!m&&ve(u),b=!m&&!y&&xe(u);v=u,m||y||b?pe(o)?v=o:be(g=o)&&ge(g)?v=function(e,t){var i=-1,s=e.length;for(t||(t=Array(s));++i<s;)t[i]=e[i];return t}(o):y?(_=!1,v=function(e,t){return e.slice()}(u)):b?(_=!1,p=new(f=(d=u).buffer).constructor(f.byteLength),new R(p).set(new R(f)),h=p,v=new d.constructor(h,d.byteOffset,d.length)):v=[]:function(e){if(!be(e)||se(e)!=l)return!1;var t=P(e);if(null===t)return!0;var i=$.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&N.call(i)==C}(u)||fe(u)?(v=o,fe(o)?v=function(e){return function(e,t,i,s){var n=!i;i||(i={});for(var r=-1,a=t.length;++r<a;){var l=t[r],o=void 0;void 0===o&&(o=e[l]),n?ie(i,l,o):ee(i,l,o)}return i}(e,Ee(e))}(o):ye(o)&&!_e(o)||(v=function(e){return"function"!=typeof e.constructor||ue(e)?{}:Z(P(e))}(u))):_=!1}_&&(a.set(u,v),n(v,u,s,r,a),a.delete(u)),X(e,i,v)}}(e,t,a,i,re,s,n);else{var o=s?s(ce(e,a),r,a+"",e,t,n):void 0;void 0===o&&(o=r),X(e,a,o)}}),Ee)}function ae(e,t){var i,s,n=e.__data__;return("string"==(s=typeof(i=t))||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==i:null===i)?n["string"==typeof t?"string":"hash"]:n.map}function le(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!ye(e)||function(e){return!!D&&D in e}(e))&&(_e(e)?F:o).test(function(e){if(null!=e){try{return N.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(i)?i:void 0}function oe(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&u.test(e))&&e>-1&&e%1==0&&e<t}function ue(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||T)}function ce(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var de=function(e){var t=0,i=0;return function(){var s=H(),n=16-(s-i);if(i=s,n>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(z?function(e,t){return z(e,"toString",{configurable:!0,enumerable:!1,value:(i=t,function(){return i}),writable:!0});var i}:je);function he(e,t){return e===t||e!=e&&t!=t}var fe=ne(function(){return arguments}())?ne:function(e){return be(e)&&$.call(e,"callee")&&!L.call(e,"callee")},pe=Array.isArray;function ge(e){return null!=e&&me(e.length)&&!_e(e)}var ve=B||function(){return!1};function _e(e){if(!ye(e))return!1;var t=se(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function me(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function ye(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function be(e){return null!=e&&"object"==typeof e}var xe=y?function(e){return function(t){return e(t)}}(y):function(e){return be(e)&&me(e.length)&&!!c[se(e)]};function Ee(e){return ge(e)?function(e,t){var i=pe(e),s=!i&&fe(e),n=!i&&!s&&ve(e),r=!i&&!s&&!n&&xe(e),a=i||s||n||r,l=a?function(e,t){for(var i=-1,s=Array(e);++i<e;)s[i]=t(i);return s}(e.length,String):[],o=l.length;for(var u in e)!t&&!$.call(e,u)||a&&("length"==u||n&&("offset"==u||"parent"==u)||r&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||oe(u,o))||l.push(u);return l}(e,!0):function(e){if(!ye(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=ue(e),i=[];for(var s in e)("constructor"!=s||!t&&$.call(e,s))&&i.push(s);return i}(e)}var we,Oe=(we=function(e,t,i){re(e,t,i)},function(e,t){return de(function(e,t,i){return t=K(void 0===t?e.length-1:t,0),function(){for(var s=arguments,n=-1,r=K(s.length-t,0),a=Array(r);++n<r;)a[n]=s[t+n];n=-1;for(var l=Array(t+1);++n<t;)l[n]=s[n];return l[t]=i(a),b(e,this,l)}}(e,t,je),e+"")}((function(e,t){var i=-1,s=t.length,n=s>1?t[s-1]:void 0,r=s>2?t[2]:void 0;for(n=we.length>3&&"function"==typeof n?(s--,n):void 0,r&&function(e,t,i){if(!ye(i))return!1;var s=typeof t;return!!("number"==s?ge(i)&&oe(t,i.length):"string"==s&&t in i)&&he(i[t],e)}(t[0],t[1],r)&&(n=s<3?void 0:n,s=1),e=Object(e);++i<s;){var a=t[i];a&&we(e,a,i)}return e})));function je(e){return e}e.exports=Oe},349:(e,t,i)=>{"use strict";const s=i(693),n=i(498),r=i(607),a=i(581),l=i(633),o=i(665),u=document.querySelector("#config"),c=document.querySelector("#data"),d=document.querySelector("#fields"),h=document.querySelector("#value"),f=JSON.parse(u.value||""),p=new r.SelectiveEditor(f,d);p.addFieldTypes({list:n.ListField,text:a.TextField,textarea:l.TextareaField}),p.data=o.autoDeepObject(JSON.parse(c.value)),document.addEventListener(s.EVENT_RENDER,(()=>{p.render()})),document.addEventListener(s.EVENT_RENDER_COMPLETE,(()=>{h.textContent=JSON.stringify(p.value,null,2)})),p.render()},607:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectiveEditor=void 0;var s=i(614);Object.defineProperty(t,"SelectiveEditor",{enumerable:!0,get:function(){return s.SelectiveEditor}})},624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigMixin=void 0,t.ConfigMixin=function(e){return class extends e{get config(){return this._config}set config(e){this._config=e}}}},874:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataMixin=void 0,t.DataMixin=function(e){return class extends e{get data(){return this._data}set data(e){this._data=e}}}},893:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0,t.Base=class{}},249:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SortableUi=t.SortableMixin=void 0;const s=i(893),n=i(23),r=i(878),a=i(274);t.SortableMixin=function(e){return class extends e{get sortableUi(){return this._sortableUi||(this._sortableUi=new l),this._sortableUi}set sortableUi(e){this._sortableUi=e}}};class l extends(r.UuidMixin(s.Base)){constructor(){super(),this.listeners=new n.Listeners}findDragTarget(e){const t=e.target;return this.dragOrigin&&t&&e.dataTransfer?.types.includes(this.transferType)?(e.preventDefault(),e.stopPropagation(),t):null}handleDragEnter(e){const t=this.findDragTarget(e);if(!t)return;t.classList.add("selective__sortable--hover");const i=parseInt(t.dataset.index),s=parseInt(this.dragOrigin?.dataset.index);i!==s&&(i<s?t.classList.add("selective__sortable--above"):t.classList.add("selective__sortable--below"))}handleDragLeave(e){const t=this.findDragTarget(e);t&&t===e.target&&t.classList.remove("selective__sortable--hover","selective__sortable--above","selective__sortable--below")}handleDragOver(e){this.findDragTarget(e)}handleDragStart(e){if(e.stopPropagation(),this.dragOrigin=a.findParentDraggable(e.target)||void 0,e.dataTransfer&&this.dragOrigin){e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",this.dragOrigin.dataset.index),e.dataTransfer.setData(this.transferType,this.dragOrigin.dataset.index);const t=this.dragOrigin.querySelector(".selective__sortable__preview");t&&e.dataTransfer.setDragImage(t,0,0)}}handleDrop(e){const t=this.findDragTarget(e);if(!t)return;const i=parseInt(t.dataset.index),s=parseInt(e?.dataTransfer?.getData("text/plain")||"");t.classList.remove("selective__sortable--hover","selective__sortable--above","selective__sortable--below"),this.dragOrigin=void 0,this.listeners.trigger("sort",s,i,t)}get transferType(){return`sortable/${this.uid}`}}t.SortableUi=l},878:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UuidMixin=void 0;const s=i(907);t.UuidMixin=function(e){return class extends e{get uuid(){return this._uuid||(this._uuid=s.generateUUID()),this._uuid}get uid(){return this.uuid.slice(0,10)}}}},614:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectiveEditor=void 0;const s=i(828),n=i(582),r=i(16),a=i(893),l=i(941),o=i(624),u=i(874),c=i(693);class d extends(u.DataMixin(o.ConfigMixin(a.Base))){constructor(e,t){super(),this.container=t,this.config=s.autoConfig(e),this.types={fields:new l.ClassManager,globals:{FieldsCls:n.Fields},rules:new l.ClassManager},this.fields=new n.Fields(this.types,{})}addFieldType(e,t){this.types.fields.registerClass(e,t),this.resetFields()}addFieldTypes(e){this.types.fields.registerClasses(e),this.resetFields()}addRuleType(e,t){this.types.rules.registerClass(e,t)}addRuleTypes(e){this.types.rules.registerClasses(e)}template(e,t){return r.html`<div class="selective">
      ${e.fields.template(e,t)}
    </div>`}render(){this.container&&this.data&&(r.render(this.template(this,this.data),this.container),document.dispatchEvent(new CustomEvent(c.EVENT_RENDER_COMPLETE)))}resetFields(){this.fields=new n.Fields(this.types,{});for(const e of this.config?.get("fields")||[])this.fields.addField(new s.Config(e))}get value(){return this.fields.value}}t.SelectiveEditor=d},693:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_UNLOCK=t.EVENT_RENDER_COMPLETE=t.EVENT_RENDER=void 0,t.EVENT_RENDER="selective.render",t.EVENT_RENDER_COMPLETE="selective.render.complete",t.EVENT_UNLOCK="selective.unlock"},199:function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Field=void 0;const n=i(643),r=i(16),a=i(893),l=i(828),o=i(624),u=i(874),c=i(236),d=i(693),h=i(451),f=i(878),p=i(449),g=s(i(266));class v extends(f.UuidMixin(u.DataMixin(o.ConfigMixin(a.Base)))){constructor(e,t,i="unknown"){super(),this.types=e,this.config=t,this.fieldType=i,this.isLocked=!1,this.isDeepLinked=!1,this.usingAutoFields=!1,this.rules=new h.Rules(this.types.rules);const s=this.config?.get("validation");if(c.DataType.isArray(s))for(const e of s)this.rules.addRuleFromConfig(new l.Config(e));else if(c.DataType.isObject(s))for(const e of Object.keys(s))for(const t of s[e])this.rules.addRuleFromConfig(new l.Config(t),e);else s&&console.error("Validation rules in an invalid format.","Expecting array or Record<zoneKey, array>.",s)}classesForField(){const e=["selective__field",`selective__field__type__${this.fieldType}`];for(const t of this.config?.get("classes")||[])e.push(t);return this.usingAutoFields&&e.push("selective__field--auto"),this.config?.get("isGuessed")&&e.push("selective__field--guess"),this.isClean||e.push("selective__field--dirty"),this.isValid||e.push("selective__field--invalid"),this.isDeepLinked&&e.push("selective__field--linked"),e}classesForInput(e=n.DEFAULT_ZONE_KEY){const t=[];if(!this.isValid)for(const i of[n.ValidationLevel.Error,n.ValidationLevel.Warning,n.ValidationLevel.Info])this.validation?.hasAnyResults(e,i)&&t.push(`selective__field__input--${i}`);return t}classesForLabel(e=n.DEFAULT_ZONE_KEY){const t=["selective__field__label"];if(!this.isValid&&!this.isValid)for(const i of[n.ValidationLevel.Error,n.ValidationLevel.Warning,n.ValidationLevel.Info])this.validation?.hasAnyResults(e,i)&&t.push(`selective__field__label--${i}`);return t}cleanOriginalValue(e){return c.DataType.isArray(e)&&(e=[...e]),e}expandClasses(e){return e.join(" ")}get fullKey(){const e=this.config?.get("parentKey");return e?`${e}.${this.key}`:this.key}handleInput(e){const t=e.target;this.currentValue=t.value,this.render()}get isClean(){return!this.isLocked&&g.default(this.currentValue)===g.default(this.originalValue)}get isValid(){if(!this.validation)if(this.validation=new n.Validation(this.rules),this.zoneToKey)for(const e of Object.keys(this.zoneToKey)){const t=this.zoneToKey[e];this.validation.validate(this.currentValue[t],e)}else this.validation.validate(this.currentValue);return!this.validation.hasAnyResults(null)}get key(){return this.config?.get("key")||""}lock(){this.isLocked=!0}render(){document.dispatchEvent(new CustomEvent(d.EVENT_RENDER))}template(e,t){return this.updateOriginal(e,t),this.templateWrapper(e,t)}templateErrors(e,t,i){if(this.isValid)return r.html``;const s=this.validation?.getResults(i)||[];return s.length?r.html`<div class="selective__field__errors">
      ${p.repeat(s,(e=>e.uuid),(e=>r.html`
          <div
            class="selective__field__error selective__field__error--level__${e.level}"
            data-error-level="${e.level}"
          >
            ${e.message}
          </div>
        `))}
    </div>`:r.html``}templateFooter(e,t){return r.html``}templateFooterStructure(e,t){return r.html`<div class="selective__field__footer">
      ${this.templateFooter(e,t)}
    </div>`}templateHeader(e,t){return r.html``}templateHeaderStructure(e,t){return r.html`<div class="selective__field__header">
      ${this.templateHeader(e,t)} ${this.templateLabel(e,t)}
    </div>`}templateHelp(e,t,i){let s=this.config?.get("help");return s?(i&&c.DataType.isObject(s)&&(s=s[i]),r.html`<div class="selective__field__help">${s}</div>`):r.html``}templateIconDeepLink(e,t){return r.html``}templateIconValidation(e,t){return this.isValid?r.html``:r.html`<span class="selective__field__invalid">
      <i class="material-icons">error</i>
    </span>`}templateInput(e,t){return r.html`${this.templateHelp(e,t)}
      <div class="selective__field__input">Input not defined.</div>`}templateInputStructure(e,t){return r.html`<div class="selective__field__input">
      ${this.templateInput(e,t)}
    </div>`}templateLabel(e,t){const i=this.config?.get("label");return i?r.html`<div class=${this.expandClasses(this.classesForLabel())}>
      ${this.templateIconDeepLink(e,t)}
      ${this.templateIconValidation(e,t)}
      <label for=${this.uid}>${i}</label>
    </div>`:r.html``}templateStructure(e,t){return r.html`${this.templateHeaderStructure(e,t)}
    ${this.templateInputStructure(e,t)}
    ${this.templateFooterStructure(e,t)}`}templateWrapper(e,t){return r.html`<div
      class=${this.expandClasses(this.classesForField())}
      data-field-type=${this.fieldType}
      data-field-full-key=${this.fullKey}
    >
      ${this.templateStructure(e,t)}
    </div>`}unlock(){this.isLocked=!1}updateOriginal(e,t){if(this.isLocked)return;this.validation=void 0;let i=t.get(this.key);const s=this.isClean;i=this.cleanOriginalValue(i),this.originalValue=i,s&&(this.currentValue=this.cleanOriginalValue(i),void 0===this.currentValue&&(this.currentValue=this.config?.get("default"))),s!==this.isClean&&this.render()}get value(){return this.currentValue}}t.Field=v},498:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListField=void 0;const s=i(828),n=i(199),r=i(16),a=i(893),l=i(665),o=i(693),u=i(249),c=i(878),d=i(449);class h extends(u.SortableMixin(n.Field)){constructor(e,t,i="list"){super(e,t,i),this.items=null,this.ListItemCls=f,this.sortableUi.listeners.add("sort",this.handleSort.bind(this))}createFields(e){const t=new this.types.globals.FieldsCls(this.types,new s.Config({fields:e}));for(const i of e){const e=new s.Config(i);e.set("parentKey",this.fullKey),this.usingAutoFields&&e.set("isGuessed",!0),t.addField(e)}return t}itemsOrCreateItems(e){if(null===this.items){this.items=[];const t=this.config?.get("fields")||[];for(const i of this.originalValue||[]){0===t.length&&(this.usingAutoFields=!0);const n=this.createFields(t);n.updateOriginal(e,i);for(const t of n.fields)t.updateOriginal(e,s.autoConfig(i||n.defaultValue));this.items.push(new f(this,n))}}return this.items}handleAddItem(e,t,i){const n=this.itemsOrCreateItems(t),r=this.config?.get("fields")||[],a=this.createFields(r);a.updateOriginal(t,i);for(const e of a.fields)e.updateOriginal(t,s.autoConfig(a.defaultValue));n.push(new f(this,a)),this.render()}handleDeleteItem(e,t,i){const s=this.itemsOrCreateItems(t);e.stopPropagation(),s.splice(i,1);const n=s.slice(i);for(const e of n)e.fields.lock();this.lock(),document.addEventListener(o.EVENT_UNLOCK,(()=>{for(const e of n)e.fields.unlock();this.unlock(),this.render()}),{once:!0}),this.render()}handleSort(e,t){const i=[],s=this.items||[],n=Math.max(t,e),r=Math.min(t,e);let a=1;e>t&&(a=-1);for(let l=0;l<s.length;l++)l<r||l>n?(i[l]=s[l],i[l].fields.lock()):l===t?(i[l]=s[e],i[l].fields.lock()):(i[l]=s[l+a],i[l].fields.lock());this.items=i,this.lock(),document.addEventListener(o.EVENT_UNLOCK,(()=>{for(const e of i)e.fields.unlock();this.unlock(),this.render()}),{once:!0}),this.render()}templateEmpty(e,t,i){return r.html` <div
      class="selective__list__item selective__list__item--empty"
      data-index=${i}
    >
      ${this.config?.get("empty_label")||"{ Empty }"}
    </div>`}templateFooter(e,t){const i=this.value,s=this.rules.getRulesForZone();let n=!0;for(const e of s)if(!e.allowMore(i)){n=!1;break}return n?r.html`<div class="selective__field__actions">
      <button
        class="selective__button--add"
        @click=${i=>{this.handleAddItem(i,e,t)}}
      >
        ${this.config?.get("add_label")||"Add"}
      </button>
    </div>`:r.html``}templateHeader(e,t){const i=this.itemsOrCreateItems(e);if(!i.length)return r.html``;const s=[];let n=!0,a=!0,l=!0;for(const e of i)e.fields.isSimple&&e.fields.allowSimple||(n=!1),e.isExpanded||(a=!1),e.isExpanded&&(l=!1);return n?r.html``:(s.push(r.html`<div
      ?disabled=${a}
      class="selective__action selective__action__expand"
      @click=${()=>{for(const e of i)e.isExpanded=!0;this.render()}}
    >
      <i class="material-icons">unfold_more</i>
    </div>`),s.push(r.html`<div
      ?disabled=${l}
      class="selective__action selective__action__collapse"
      @click=${()=>{for(const e of i)e.isExpanded=!1;this.render()}}
    >
      <i class="material-icons">unfold_less</i>
    </div>`),r.html`<div class="selective__field__actions">${s}</div>`)}templateInput(e,t){const i=this.itemsOrCreateItems(e);return r.html`${this.templateHelp(e,t)}
      <div class="selective__list">
        ${d.repeat(i,(e=>e.uid),((t,i)=>{const s=new l.DeepObject(i<this.originalValue?.length?this.originalValue[i]:t.fields.defaultValue);return t.template(e,s,t,i)}))}
        ${0===i.length?this.templateEmpty(e,t,0):""}
      </div>
      ${this.templateErrors(e,t)}`}get value(){if(null===this.items)return this.originalValue||[];const e=[];for(const t of this.items)e.push(t.fields.value);return e}}t.ListField=h;class f extends(c.UuidMixin(a.Base)){constructor(e,t){super(),this.field=e,this.fields=t,this.isExpanded=!1}handleCollapseItem(){this.isExpanded=!1,this.field.render()}handleExpandItem(){this.isExpanded=!0,this.field.render()}template(e,t,i,s){return i.fields.allowSimple&&i.fields.isSimple?this.templateSimple(e,t,i,s):this.isExpanded?this.templateExpanded(e,t,i,s):this.templateCollapsed(e,t,i,s)}templateCollapsed(e,t,i,s){i.fields.updateOriginal(e,t,!0);const n=this.field.sortableUi;return r.html` <div
      class="selective__list__item selective__list__item--collapsed selective__sortable"
      draggable="true"
      data-index=${s}
      @dragenter=${n.handleDragEnter.bind(n)}
      @dragleave=${n.handleDragLeave.bind(n)}
      @dragover=${n.handleDragOver.bind(n)}
      @dragstart=${n.handleDragStart.bind(n)}
      @drop=${n.handleDrop.bind(n)}
    >
      <div class="selective__list__item__drag">
        <i class="material-icons">drag_indicator</i>
      </div>
      <div
        class="selective__list__item__preview"
        data-item-uid=${this.uid}
        @click=${this.handleExpandItem.bind(this)}
      >
        ${this.fields.templatePreview(e,t)}
      </div>
      <div
        class="selective__list__item__delete tooltip--left"
        data-item-uid=${i.uid}
        @click=${t=>{this.field.handleDeleteItem(t,e,s)}}
        aria-label="Delete item"
        data-tip="Delete item"
      >
        <i class="material-icons icon icon--delete">remove_circle</i>
      </div>
    </div>`}templateExpanded(e,t,i,s){const n=this.field.sortableUi;return r.html` <div
      class="selective__list__item selective__sortable"
      draggable="true"
      data-index=${s}
      @dragenter=${n.handleDragEnter.bind(n)}
      @dragleave=${n.handleDragLeave.bind(n)}
      @dragover=${n.handleDragOver.bind(n)}
      @dragstart=${n.handleDragStart.bind(n)}
      @drop=${n.handleDrop.bind(n)}
    >
      <div
        class="selective__list__fields__label ${i.fields.label?"":"selective__list__fields__label--empty"}"
        data-item-uid=${i.uid}
        @click=${this.handleCollapseItem.bind(this)}
      >
        ${i.fields.label}
      </div>

      <div class="selective__list__fields">
        ${i.fields.template(e,t)}
      </div>
    </div>`}templateSimple(e,t,i,s){const n=this.field.sortableUi;return r.html` <div
      class="selective__list__item selective__list__item--simple selective__sortable"
      draggable="true"
      data-index=${s}
      @dragenter=${n.handleDragEnter.bind(n)}
      @dragleave=${n.handleDragLeave.bind(n)}
      @dragover=${n.handleDragOver.bind(n)}
      @dragstart=${n.handleDragStart.bind(n)}
      @drop=${n.handleDrop.bind(n)}
    >
      <div class="selective__list__item__drag">
        <i class="material-icons">drag_indicator</i>
      </div>
      ${i.fields.template(e,t)}
      <div
        class="selective__list__item__delete tooltip--left"
        data-item-uid=${i.uid}
        @click=${t=>{this.field.handleDeleteItem(t,e,s)}}
        title="Delete item"
      >
        <i class="material-icons">delete</i>
      </div>
    </div>`}}},581:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextField=void 0;const s=i(16),n=i(199);class r extends n.Field{constructor(e,t,i="text"){super(e,t,i)}templateInput(e,t){const i=this.currentValue||"";return s.html`${this.templateHelp(e,t)}
      <input
        class=${this.expandClasses(this.classesForInput())}
        type="text"
        id="${this.uid}"
        placeholder=${this.config?.get("placeholder")||""}
        @input=${this.handleInput.bind(this)}
        value=${i}
      />
      ${this.templateErrors(e,t)}`}}t.TextField=r},633:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextareaField=void 0;const s=i(16),n=i(199);class r extends n.Field{constructor(e,t,i="textarea"){super(e,t,i)}templateInput(e,t){const i=this.currentValue||"";return s.html` ${this.templateHelp(e,t)}<textarea
        class=${this.expandClasses(this.classesForInput())}
        id=${this.uid}
        rows=${this.config?.get("rows")||6}
        placeholder=${this.config?.get("placeholder")||""}
        @input=${this.handleInput.bind(this)}
      >
${i}</textarea
      >
      ${this.templateErrors(e,t)}`}}t.TextareaField=r},582:function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Fields=void 0;const n=i(16),r=i(893),a=i(624),l=i(874),o=i(236),u=i(665),c=i(878),d=i(819),h=s(i(378)),f=i(449);class p extends(c.UuidMixin(l.DataMixin(a.ConfigMixin(r.Base)))){constructor(e,t){super(),this.types=e,this.config=t,this.isLocked=!1,this.fields=[]}addField(e){const t=this.types.fields.newFromKey(e.get("type"),this.types,e);t?this.fields.push(t):console.error(`Unable to add field for unknown field type: ${e.get("type")}.`)}get allowSimple(){return!this.config?.get("preview_field")&&!this.config?.get("preview_fields")}guessDefaultValue(){return this.fields.length>1?{}:""}get isClean(){for(const e of this.fields)if(!e.isClean)return!1;return!0}get isSimple(){return this.fields.length<=1}get isValid(){for(const e of this.fields)if(!e.isValid)return!1;return!0}lock(){this.isLocked=!0;for(const e of this.fields)e.lock()}get previewFields(){let e=this.config?.get("preview_field",this.config?.get("preview_fields"))||[];return o.DataType.isArray(e)||(e=[e]),e}template(e,t){return this.fields.length?this.isSimple?n.html` ${this.updateOriginal(e,t)}
      ${this.fields[0].template(e,t)}`:n.html`<div class="selective__fields">
      ${this.updateOriginal(e,t)}
      ${f.repeat(this.fields,(e=>e.uuid),(i=>n.html` ${i.template(e,t)} `))}
    </div>`:n.html``}templatePreview(e,t){return n.html`${d.findPreviewValue(this.value,this.previewFields,"{ Item }")}`}unlock(){this.isLocked=!1;for(const e of this.fields)e.unlock()}updateOriginal(e,t,i=!1){if(!this.isLocked&&(this.originalValue=t,i))for(const i of this.fields)i.updateOriginal(e,t)}get value(){if(!this.fields.length)return null;if(this.isSimple&&!this.fields[0].key)return this.fields[0].value;const e=new u.DeepObject;for(const t of this.fields)e.set(t.key,t.value);return h.default({},this?.originalValue?.obj||{},e.obj)}}t.Fields=p},643:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationResult=t.Validation=t.ValidationLevel=t.DEFAULT_ZONE_KEY=void 0;const s=i(893),n=i(878);var r;t.DEFAULT_ZONE_KEY="default",function(e){e.Info="info",e.Warning="warning",e.Error="error"}(r=t.ValidationLevel||(t.ValidationLevel={})),t.Validation=class{constructor(e){this.rules=e,this.zoneToResults={}}addResult(e,t){this.getResults(t).push(e)}filterResults(e,t){return this.getResults(t).filter((t=>t.level===e))}getResults(e,i){if(e=e||t.DEFAULT_ZONE_KEY,this.zoneToResults[e]||(this.zoneToResults[e]=[]),i){const t=e=>i===r.Info?e.level===r.Info:i!==r.Warning||e.level===r.Info||e.level===r.Warning;return this.zoneToResults[e].filter(t)}return this.zoneToResults[e]}hasAnyResults(e,t){if(null===e){for(const e of this.zones)if(this.hasAnyResults(e,t))return!0;return!1}return this.getResults(e,t).length>0}validate(e,t){let i=!1;for(const s of this.rules.getRulesForZone(t)){const t=s.validate(e);t&&(this.addResult(new a(t,s.level)),i=!0)}return i}get zones(){return Object.keys(this.zoneToResults)}};class a extends(n.UuidMixin(s.Base)){constructor(e,t=r.Error){super(),this.message=e,this.level=t}}t.ValidationResult=a},451:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequireRule=t.RangeRule=t.PatternRule=t.MatchRule=t.LengthRule=t.Rule=t.Rules=void 0;const s=i(643),n=i(893),r=i(624),a=i(236);t.Rules=class{constructor(e){this.zoneToRules={},this.types=e}addRuleFromConfig(e,t=s.DEFAULT_ZONE_KEY){const i=e.get("type","__missing_type__"),n=this.types.newFromKey(i,e);n?this.getRulesForZone(t).push(n):console.error(`Unable to add validation rule for unknown validation type: ${i}`)}getRulesForZone(e=s.DEFAULT_ZONE_KEY){return this.zoneToRules[e]||(this.zoneToRules[e]=[]),this.zoneToRules[e]}get zones(){return Object.keys(this.zoneToRules)}};class l extends(r.ConfigMixin(n.Base)){constructor(e){super(),this.defaultMessage="Value is invalid.",this.config=e,this.defaultLevel=s.ValidationLevel.Error}allowAdd(e){return!0}allowRemove(e){return!0}get level(){return this.config?.get("level")||this.defaultLevel}get message(){return this.config?.get("message")||this.defaultMessage}validate(e){return console.error("Validation check not defined."),null}}t.Rule=l,t.LengthRule=class extends l{constructor(){super(...arguments),this.defaultMessage="Value needs to have the correct length."}allowAdd(e){if(!e)return!0;e=this.cleanValue(e);const t=this.config?.get("max");return!(t&&e.length>=t.value)}allowRemove(e){if(!e)return!0;e=this.cleanValue(e);const t=this.config?.get("min");return!(t&&e.length<=t.value)}cleanValue(e){return a.DataType.isString(e)&&(e=e.trim()),e}validate(e){if(!e||a.DataType.isArray(e)&&0===e.length)return null;e=this.cleanValue(e);const t=this.config?.get("max"),i=this.config?.get("min");return i&&e.length<i.value?i.message||this.message:t&&e.length>t.value?t.message||this.message:null}},t.MatchRule=class extends l{constructor(e){super(e),this.defaultMessage="Value needs to match the validation rule.",this.patternCache={}}cachePattern(e,t){return e in this.patternCache||(this.patternCache[e]=new RegExp(t)),this.patternCache[e]}validate(e){if(!e)return null;let t=this.config?.get("allowed");if(t){if(t.pattern&&!this.cachePattern("allowed",t.pattern).test(e))return t.message||this.message;if(t.values&&!t.values.includes(e))return t.message||this.message}if(t=this.config?.get("excluded"),t){if(t.pattern&&this.cachePattern("excluded",t.pattern).test(e))return t.message||this.message;if(t.values&&t.values.includes(e))return t.message||this.message}return null}},t.PatternRule=class extends l{constructor(e){super(e),this.defaultMessage=`Value needs to match the pattern: ${this.config?.get("pattern")||"__missing__"}`}validate(e){return e?(this.pattern||(this.pattern=new RegExp(this.config?.get("pattern"))),this.pattern.test(e)?null:this.message):null}},t.RangeRule=class extends l{constructor(){super(...arguments),this.defaultMessage="Value needs to be a number in range."}allowAdd(e){if(!e)return!0;e=this.cleanValue(e);const t=this.config?.get("max");return!(t&&e.length>=t.value)}allowRemove(e){if(!e)return!0;e=this.cleanValue(e);const t=this.config?.get("min");return!(t&&e.length<=t.value)}cleanValue(e){return a.DataType.isString(e)&&(e=e.trim()),e}validate(e){if(!e)return null;const t=this.config?.get("max"),i=this.config?.get("min");if(a.DataType.isArray(e)){if(i&&e.length<i.value)return i.message||this.message;if(t&&e.length>t.value)return t.message||this.message}else{if(e=parseFloat(e),isNaN(e))return this.message;if(i&&e<i.value)return i.message||this.message;if(t&&e>t.value)return t.message||this.message}return null}},t.RequireRule=class extends l{constructor(){super(...arguments),this.defaultMessage="Value is required. Cannot be empty."}validate(e){if(!e)return this.message;if(a.DataType.isArray(e)&&e.length<1)return this.message;try{if(!(e=e.trim()).length)return this.message}catch(e){if(!(e instanceof TypeError))throw e}for(const t of this?.alternativeEmpties||[])if(e===t)return this.message;return null}}},941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClassManager=void 0,t.ClassManager=class{constructor(e){this.DefaultCls=e,this.classes={}}getByKey(e){return this.classes[e]?this.classes[e]:null}newFromKey(e,...t){return this.classes[e]?new this.classes[e](...t):this.DefaultCls?new this.DefaultCls(...t):null}registerClass(e,t){this.classes[e]=t}registerClasses(e){for(const t of Object.keys(e))this.registerClass(t,e[t])}}},828:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoConfig=t.Config=void 0;class i{constructor(e,t){this.defaultValues=t||{},this.config=Object.assign({},this.defaultValues,e||{})}get(e,t){return e in this.config?this.config[e]:t}set(e,t){return this.config[e]=t}}t.Config=i,t.autoConfig=(e,t)=>e instanceof i?e:new i(e,t)},236:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataType=void 0,t.DataType=class{static isArray(e){return Array.isArray?Array.isArray(e):Boolean(e)&&"object"==typeof e&&e.constructor===Array}static isBoolean(e){return"boolean"==typeof e}static isDate(e){return e instanceof Date}static isFunction(e){return"function"==typeof e}static isNumber(e){return"number"==typeof e&&isFinite(e)}static isNull(e){return null===e}static isObject(e){return Boolean(e)&&"object"==typeof e&&e.constructor===Object}static isRegExp(e){return Boolean(e)&&"object"==typeof e&&e.constructor===RegExp}static isString(e){return"string"==typeof e||e instanceof String}static isSymbol(e){return"symbol"==typeof e}static isUndefined(e){return void 0===e}}},665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoDeepObject=t.DeepObject=void 0;class i{constructor(e){this.obj=e||{}}get(e){let t=this.obj;if(!e)return t;for(const i of e.split(".")){if(!t)return;if(!(i in t))return;t=t[i]}return t}set(e,t){if(!e)return void(this.obj=t);let i=this.obj;const s=e.split(".");for(let e=0;e<s.length-1;e++){const t=s[e];t in i||(i[t]={}),i=i[t]}i[s[s.length-1]]=t}update(e){if(e)for(const t of Object.keys(e))this.set(t,e[t])}}t.DeepObject=i,t.autoDeepObject=e=>e instanceof i?e:new i(e)},274:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findParentDraggable=t.findParentByClassname=void 0,t.findParentByClassname=(e,t)=>{for(;e&&!e.classList.contains(t);)e=e.parentElement;return e},t.findParentDraggable=e=>{let t=!1;for(;e&&!t;)t="true"===e.getAttribute("draggable"),t||(e=e.parentElement);return e}},23:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Listeners=void 0,t.Listeners=class{constructor(){this.listeners={}}add(e,t){this.listenersForEvent(e).push(t)}listenersForEvent(e){return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e]}trigger(e,...t){for(const i of this.listenersForEvent(e))i(...t)}}},819:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.templatePreviewValue=t.findPreviewValue=void 0;const s=i(16),n=i(236),r=i(665),a=["title","label","subtitle","type","text","key","id","url","value","doc","partial"],l=["mp4","webm"];function o(e){const t=r.autoDeepObject(e);let i=e;for(const e of a)if(i=t.get(e),i||(i=t.get(`${e}@`)),i)break;return n.DataType.isObject(i)?o(i):i}t.findPreviewValue=function(e,t,i){e=r.autoDeepObject(e);let s=null;if(t)for(const i of t)if(s=e.get(i),s)break;return s||(s=e.obj),s?(n.DataType.isObject(s)&&(s=o(s)),s||i):i},t.templatePreviewValue=function(e,t,i){if("image"===t){if(e.startsWith("http")||e.startsWith("//")){for(const t of l)if(e.endsWith(`.${t}`))return s.html`<video
            playsinline
            disableremoteplayback
            muted
            autoplay
            loop
          >
            <source src="${e}" />
          </video>`;return s.html`<img
        src="${e}"
        class="selective__image__fingernail"
      />`}if(e.startsWith("/"))return s.html`<img
        src="${e}"
        class="selective__image__fingernail"
      />`}return e||i}},907:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUUID=void 0,t.generateUUID=()=>{const e=new Uint32Array(8);window.crypto.getRandomValues(e);let t="";for(let i=0;i<e.length;i++)t+=(i<2||i>5?"":"-")+e[i].toString(16).slice(-4);return t}}},t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i(349)})();